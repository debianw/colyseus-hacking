(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(43)},31:function(e,t){},43:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(17),s=n.n(r),c=n(1),i=n(2),l=n(4),m=n(3),u=n(5),d=n(18),g=function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={started:!1,rejoin:!1,rooms:[],messages:[],session:null,message:""},n.message=a.a.createRef(),n.getAvailableRooms=function(){n.client.getAvailableRooms("game",function(e,t){if(t)return console.error(t);n.setState({rooms:e})})},n.createClient=function(){n.client=new d.Client("ws://dev-rt.gambit.com/example"),n.client.onOpen.add(function(){console.log("connection is now open!"),n.state.started&&n.setState({rejoin:!0})}),n.client.onClose.add(function(){console.log("connection has been closed!")}),n.client.onError.add(function(e){return console.log("something wrong happened",e)})},n.start=function(){var e=n.props.gameId;n.room?(console.log("rejoining!!!"),n.room=n.client.rejoin("game",n.state.sessionId)):n.room=n.client.join("game",{gameId:e}),n.room.onJoin.add(function(){console.log("client joined!"),n.getAvailableRooms(),n.setState({started:!0,rejoin:!1,session:n.room.sessionId})}),n.room.onStateChange.add(function(e){var t=e.messages;n.setState({messages:t})}),n.room.onLeave.add(function(){console.log("client left the room")}),n.room.onError.add(function(e){console.log("oops, error ocurred:"),console.log(e)})},n.send=function(){n.message.current.value&&(n.room.send(n.message.current.value),n.setState({message:""}))},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.createClient()}},{key:"render",value:function(){var e=this,t=this.state,n=t.rooms,o=t.started,r=t.messages,s=t.rejoin,c=t.session,i=t.message;return a.a.createElement("div",null,a.a.createElement("h1",null," Chat Game ",c," "),a.a.createElement("div",null,a.a.createElement("h4",null," Available Rooms! (",n.length,")"),n.map(function(e){return a.a.createElement("div",{key:e.roomId}," ",e.roomId," ")})),a.a.createElement("input",{ref:this.message,onChange:function(t){return e.setState({message:t.target.value})},value:i})," ",a.a.createElement("button",{onClick:this.send},"SEND"),a.a.createElement("div",null,a.a.createElement("h4",null,"Messages"),r.map(function(e){return a.a.createElement("div",{key:e.id},e.message)})),!o&&a.a.createElement("button",{onClick:this.start},"START GAME"),s&&a.a.createElement("button",{onClick:this.start},"REJOIN"))}}]),t}(o.Component),h=function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={gameId:"backgammon-01"},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.gameId;return a.a.createElement("div",{className:"App"},a.a.createElement(g,{gameId:e}))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.0eff95cc.chunk.js.map